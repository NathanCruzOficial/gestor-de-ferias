{% extends 'layouts/base.html' %}

{% block title %}Painel{% endblock %}

{% block content %}    
<!-- ================================================================================= -->

<div class="container">
  <h2>Registros de Férias</h2>
  <table class="table table-striped table-hover table-bordered align-middle">
    <thead class="table-dark text-center">
      <tr>
        <th scope="col">Posto/Grad</th>
        <th scope="col">Usuário</th>
        <th scope="col">Dias disponíveis</th>
        <th scope="col">Dias</th>
        <th scope="col">Data de Início</th>
        <th scope="col">Data de Fim</th>
        <th scope="col">Situação</th>
        <th scope="col">Ação</th>
      </tr>
    </thead>
    <tbody>
      {% for ferias in registros %}
        <!-- Exibe o botão de deletar para todos, exceto o usuário logado -->
        <tr class="text-center">
          <td>{{ ferias.usuarios.posto_grad }}</td>
          <td>{{ ferias.usuarios.username }}</td>
          <td>{{ ferias.usuarios.dias_disp }}</td>
          <td>{{ ferias.dias }}</td>
          <td>{{ ferias.data_inicio }}</td>
          <td>{{ ferias.data_fim }}</td>
          {% if ferias.status == 0 %}
          <td class="bg-secondary">Em Análise</td>
          {% elif ferias.status == 1 %}
          <td class="bg-primary">Aprovada</td>
          {% elif ferias.status == 2 %}
          <td class="bg-danger">Negada</td>
          {% elif ferias.status == 3 %}
          <td class="bg-success">Retirada</td>
          {% elif ferias.status == 4 %}
          <td class="bg-warning">Em Andamento</td>
          {% endif %}
          <td>
            <div class="hstak">
              <button href="#" class="btn btn-success" >Aprovar</button>
              <button href="#" class="btn btn-danger">Reprovar</button>
            </div>
          </td>
        </tr>          
      {% endfor %}
    </tbody>
  </table>
</div>

<!-- ================================================================================= -->
{% endblock %}
